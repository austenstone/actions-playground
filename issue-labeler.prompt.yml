name: GitHub Issue Auto-Labeler
description: Analyzes GitHub issues and suggests appropriate labels based on title, body, and available labels
model: openai/gpt-4.1-mini
modelParameters:
  temperature: 0.3
  maxTokens: 256
messages:
  - role: system
    content: >
      You are a GitHub issue classification assistant. Your task is to analyze issue content and suggest appropriate labels from a provided list.
      
      Rules and Constraints:
      - ONLY suggest labels from the provided "Available Labels" list
      - Output ONLY comma-separated label names, nothing else (no explanations, no markdown, no extra text)
      - If multiple labels apply, list them all separated by commas
      - If no labels are appropriate, output "none"
      - Be conservative - only suggest labels that clearly match the issue content
      - Common label patterns to recognize:
        * "bug" - Something isn't working, errors, crashes, unexpected behavior
        * "enhancement" - Feature requests, improvements, new functionality
        * "documentation" - Documentation updates, clarifications, examples
        * "question" - Seeking help, clarification, or information
        * "duplicate" - Issue already exists
        * "good first issue" - Beginner-friendly tasks
        * "help wanted" - Needs community assistance
        * "wontfix" - Will not be addressed
        * Priority labels (high, medium, low, critical)
        * Area labels (frontend, backend, api, testing, etc.)
      
      Capabilities:
      - Analyze issue title for keywords and intent
      - Parse issue body for technical details and context
      - Identify bug reports from error messages or stack traces
      - Recognize feature requests from language like "it would be nice" or "can we add"
      - Detect questions from uncertainty language or question marks
      - Match issue content to semantic meaning of available labels
  - role: user
    content: |
      Analyze this GitHub issue and suggest appropriate labels:
      
      **Issue Title:**
      {{issue_title}}
      
      **Issue Body:**
      {{issue_body}}
      
      **Available Labels:**
      {{available_labels}}
      
      Output only the comma-separated label names:
testData:
  - issue_title: "Application crashes when clicking submit button"
    issue_body: "When I click the submit button on the contact form, the entire application crashes. Console shows 'TypeError: Cannot read property of undefined'. This happens consistently on Chrome 120."
    available_labels: "bug, enhancement, documentation, question, duplicate, good first issue, help wanted, frontend, backend, critical, high, medium, low"
    expected: "bug, frontend, high"
  
  - issue_title: "Add dark mode support"
    issue_body: "It would be great to have a dark mode option for users who prefer it. Many modern applications support this and it reduces eye strain during night usage."
    available_labels: "bug, enhancement, documentation, question, duplicate, good first issue, help wanted, frontend, backend, critical, high, medium, low"
    expected: "enhancement, frontend"
  
  - issue_title: "How do I configure the API endpoint?"
    issue_body: "I'm trying to set up this project but I can't find documentation on how to configure the API endpoint. Can someone point me in the right direction?"
    available_labels: "bug, enhancement, documentation, question, duplicate, good first issue, help wanted, frontend, backend, critical, high, medium, low"
    expected: "question, documentation"
  
  - issue_title: "Update installation guide with new prerequisites"
    issue_body: "The installation guide is missing information about Node.js version 18+ being required. We should update the docs to reflect this change."
    available_labels: "bug, enhancement, documentation, question, duplicate, good first issue, help wanted, frontend, backend, critical, high, medium, low"
    expected: "documentation, good first issue"
  
  - issue_title: "Refactor user authentication module"
    issue_body: "The current authentication code is difficult to maintain. We should refactor it to use the new JWT library and improve error handling."
    available_labels: "bug, enhancement, documentation, question, duplicate, good first issue, help wanted, frontend, backend, critical, high, medium, low"
    expected: "enhancement, backend"
  
  - issue_title: "Server returns 500 error on production deployment"
    issue_body: "After deploying to production, the server immediately returns 500 errors for all requests. Logs show database connection timeout. This is blocking all users from accessing the application."
    available_labels: "bug, enhancement, documentation, question, duplicate, good first issue, help wanted, frontend, backend, critical, high, medium, low"
    expected: "bug, backend, critical"
  
  - issue_title: "Improve README with usage examples"
    issue_body: "The README could benefit from more practical examples showing how to use the main features. New users often struggle to get started."
    available_labels: "bug, enhancement, documentation, question, duplicate, good first issue, help wanted, frontend, backend, critical, high, medium, low"
    expected: "documentation, enhancement, good first issue"
  
  - issue_title: "Random issue about cats"
    issue_body: "I love cats. They are fluffy."
    available_labels: "bug, enhancement, documentation, question, duplicate, good first issue, help wanted, frontend, backend, critical, high, medium, low"
    expected: "none"
evaluators:
  - name: Label accuracy
    uses: github/similarity
